<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Martha! My Beautiful Star ‚ú®</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffcce6 0%, #ff99cc 25%, #cc99ff 50%, #99ccff 75%, #cce6ff 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #333;
            overflow-x: hidden;
            min-height: 100vh;
            padding: 0;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Header Section */
        .hero-section {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('martha1.jpg') center/cover;
            opacity: 0.15;
            z-index: -1;
        }
        
        .hero-content h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 5.5rem;
            color: #ff3366;
            margin-bottom: 20px;
            text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            animation: floatText 4s ease-in-out infinite;
        }
        
        @keyframes floatText {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }
        
        .hero-subtitle {
            font-size: 1.8rem;
            color: #333;
            max-width: 800px;
            margin: 0 auto 30px;
            font-weight: 300;
            background: rgba(255, 255, 255, 0.7);
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .birthday-star {
            font-size: 4rem;
            color: gold;
            margin: 20px 0;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            animation: spin 10s linear infinite, glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
            to { text-shadow: 0 0 30px rgba(255, 215, 0, 1), 0 0 40px rgba(255, 215, 0, 0.8); }
        }
        
        /* Slideshow Section */
        .slideshow-section {
            padding: 80px 20px;
            background: rgba(255, 255, 255, 0.85);
            position: relative;
        }
        
        .section-title {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            text-align: center;
            color: #ff3366;
            margin-bottom: 50px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            width: 150px;
            height: 5px;
            background: linear-gradient(to right, #ff3366, #ff9966);
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 5px;
        }
        
        .slideshow-container {
            max-width: 900px;
            height: 500px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .slides {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .slide-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 1.3rem;
            transform: translateY(0);
            transition: transform 0.5s ease;
        }
        
        .slideshow-container:hover .slide-caption {
            transform: translateY(0);
        }
        
        .slide-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.7);
            color: #ff3366;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
        }
        
        .slide-nav:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-50%) scale(1.1);
        }
        
        .prev-slide {
            left: 20px;
        }
        
        .next-slide {
            right: 20px;
        }
        
        .slide-dots {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 15px;
        }
        
        .dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #ccc;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .dot.active {
            background: #ff3366;
            transform: scale(1.3);
        }
        
        /* Surprise Boxes Section */
        .surprise-section {
            padding: 80px 20px;
            background: rgba(255, 255, 255, 0.9);
            text-align: center;
        }
        
        .surprise-intro {
            font-size: 1.5rem;
            max-width: 800px;
            margin: 0 auto 60px;
            line-height: 1.8;
            color: #555;
        }
        
        .surprise-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .surprise-box {
            width: 300px;
            height: 300px;
            perspective: 1000px;
            cursor: pointer;
            transition: transform 0.5s ease;
        }
        
        .surprise-box:hover {
            transform: scale(1.05);
        }
        
        .present-box {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .present-box.opened {
            transform: rotateY(180deg) scale(0.8);
        }
        
        .present-front, .present-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .present-front {
            background: linear-gradient(135deg, #ff3366, #ff9966);
            color: white;
        }
        
        .present-back {
            background: linear-gradient(135deg, #99ccff, #cc99ff);
            color: #333;
            transform: rotateY(180deg);
            overflow-y: auto;
        }
        
        .gift-icon {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .question {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .answer {
            font-size: 1.2rem;
            line-height: 1.6;
        }
        
        /* Modal for gift box content */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
            backdrop-filter: blur(10px);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            width: 90%;
            max-width: 700px;
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
            transform: scale(0.7) translateY(50px);
            opacity: 0;
            transition: all 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .modal-overlay.active .modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }
        
        .modal-content::before {
            content: "‚ù§";
            position: absolute;
            font-size: 20rem;
            color: rgba(255, 255, 255, 0.1);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 0;
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .modal-header h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #ff3366;
            margin-bottom: 15px;
        }
        
        .modal-body {
            font-size: 1.4rem;
            line-height: 1.8;
            color: #333;
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            background: #ff3366;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 2;
            transition: all 0.3s ease;
        }
        
        .close-modal:hover {
            background: #ff0040;
            transform: rotate(90deg);
        }
        
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            opacity: 0;
            z-index: 1001;
        }
        
        /* Love Messages */
        .love-section {
            padding: 80px 20px;
            background: linear-gradient(135deg, #ffcce6 0%, #ff99cc 100%);
            position: relative;
            overflow: hidden;
        }
        
        .love-section::before {
            content: "‚ù§";
            position: absolute;
            font-size: 30rem;
            color: rgba(255, 255, 255, 0.1);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 0;
        }
        
        .love-messages {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .love-note {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            transform: translateY(50px);
            opacity: 0;
            transition: all 1s ease;
        }
        
        .love-note.visible {
            transform: translateY(0);
            opacity: 1;
        }
        
        .love-note h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #ff3366;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .love-text {
            font-size: 1.4rem;
            line-height: 1.8;
            color: #333;
            margin-bottom: 20px;
        }
        
        .heart-divider {
            text-align: center;
            font-size: 2rem;
            color: #ff3366;
            margin: 20px 0;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        /* Birthday Wishes */
        .wishes-section {
            padding: 100px 20px;
            text-align: center;
            background: linear-gradient(135deg, #99ccff 0%, #cc99ff 100%);
            position: relative;
            overflow: hidden;
        }
        
        .cake-container {
            font-size: 8rem;
            margin: 40px 0;
            animation: floatCake 5s ease-in-out infinite;
        }
        
        @keyframes floatCake {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
        }
        
        .birthday-wish {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            color: #ff3366;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .wishes-text {
            font-size: 1.6rem;
            max-width: 800px;
            margin: 0 auto 40px;
            line-height: 1.8;
            color: #333;
        }
        
        .final-hearts {
            font-size: 3rem;
            letter-spacing: 20px;
            color: #ff3366;
            margin: 30px 0;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* Footer */
        footer {
            padding: 40px 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.8);
            color: white;
        }
        
        .footer-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        /* Music Player */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            padding: 15px 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 15px;
            backdrop-filter: blur(10px);
        }
        
        .music-info {
            font-size: 0.9rem;
            color: #ff3366;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .play-btn {
            background: #ff3366;
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3rem;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .play-btn:hover {
            background: #ff0040;
            transform: scale(1.1);
        }
        
        .volume-slider {
            width: 100px;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero-content h1 {
                font-size: 4rem;
            }
            
            .slideshow-container {
                height: 400px;
            }
        }
        
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 3rem;
            }
            
            .hero-subtitle {
                font-size: 1.4rem;
            }
            
            .section-title {
                font-size: 3rem;
            }
            
            .slideshow-container {
                height: 300px;
            }
            
            .surprise-box {
                width: 250px;
                height: 250px;
            }
            
            .modal-content {
                padding: 30px;
                width: 95%;
            }
            
            .modal-header h2 {
                font-size: 2.8rem;
            }
            
            .modal-body {
                font-size: 1.2rem;
            }
            
            .birthday-wish {
                font-size: 2.8rem;
            }
            
            .music-player {
                bottom: 10px;
                right: 10px;
                padding: 10px 15px;
            }
            
            .volume-slider {
                width: 70px;
            }
        }
        
        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
                padding: 10px 20px;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
            
            .slideshow-container {
                height: 250px;
            }
            
            .slide-caption {
                font-size: 1rem;
                padding: 10px;
            }
            
            .surprise-box {
                width: 100%;
                max-width: 300px;
                height: 300px;
            }
            
            .modal-content {
                padding: 20px;
            }
            
            .modal-header h2 {
                font-size: 2.2rem;
            }
            
            .modal-body {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .love-text {
                font-size: 1.2rem;
            }
            
            .birthday-wish {
                font-size: 2.2rem;
            }
            
            .music-player {
                flex-direction: column;
                width: auto;
                padding: 10px 15px;
            }
            
            .volume-slider {
                width: 80px;
            }
        }
        
        /* Scroll animations */
        .fade-in {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Modal for gift box content -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <div class="modal-header">
                <h2 id="modalTitle">Your Special Message</h2>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content will be dynamically inserted here -->
            </div>
        </div>
    </div>
    
    <!-- Music Player -->
    <div class="music-player">
        <div class="music-info">Martha's Birthday Song</div>
        <button class="play-btn" id="playBtn">
            <i class="fas fa-play"></i>
        </button>
        <input type="range" min="0" max="100" value="70" class="volume-slider" id="volumeSlider">
        <audio id="birthdaySong" loop>
            <!-- Add your song file here -->
            <source src="Kirorerwa.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>
    
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1>Happy Birthday, Martha! ‚ú®</h1>
            <div class="birthday-star">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
            </div>
            <p class="hero-subtitle">My beautiful star, today is your special day and I'm the luckiest person in the world to have you in my life. I've never felt with anyone the way I feel with you.</p>
            <p class="hero-subtitle">Scroll down for surprises filled with love just for you...</p>
        </div>
    </section>
    
    <!-- Slideshow Section -->
    <section class="slideshow-section">
        <h2 class="section-title">My Beautiful Martha</h2>
        <div class="slideshow-container">
            <div class="slides">
                <div class="slide active">
                    <img src="martha1.jpg" alt="Beautiful Martha">
                    <div class="slide-caption">That smile that brightens my world every day</div>
                </div>
                <div class="slide">
                    <img src="martha2.jpg" alt="Martha laughing">
                    <div class="slide-caption">Your joyful laughter is my favorite sound</div>
                </div>
                <div class="slide">
                    <img src="martha3.jpg" alt="Martha being thoughtful">
                    <div class="slide-caption">The way you care for others inspires me</div>
                </div>
                <div class="slide">
                    <img src="martha4.jpg" alt="Martha adventuring">
                    <div class="slide-caption">Every adventure with you is magical</div>
                </div>
                <div class="slide">
                    <img src="martha5.jpg" alt="Martha shining">
                    <div class="slide-caption">You shine brighter than any star in the sky</div>
                </div>
            </div>
            <button class="slide-nav prev-slide">&#10094;</button>
            <button class="slide-nav next-slide">&#10095;</button>
        </div>
        <div class="slide-dots">
            <div class="dot active" data-slide="0"></div>
            <div class="dot" data-slide="1"></div>
            <div class="dot" data-slide="2"></div>
            <div class="dot" data-slide="3"></div>
            <div class="dot" data-slide="4"></div>
        </div>
    </section>
    
    <!-- Surprise Boxes Section -->
    <section class="surprise-section">
        <h2 class="section-title">Surprise Boxes of Love</h2>
        <p class="surprise-intro">Click on each gift box to discover special messages about how much you mean to me. Each box holds a piece of my heart just for you!</p>
        
        <div class="surprise-container">
            <!-- Surprise Box 1 -->
            <div class="surprise-box">
                <div class="present-box" id="present1" data-box="1">
                    <div class="present-front">
                        <div class="gift-icon">üéÅ</div>
                        <div class="question">What makes you the most special person in my life?</div>
                        <p style="margin-top: 20px;"><i>Click to open!</i></p>
                    </div>
                    <div class="present-back">
                        <div class="answer">
                            <h3>Your Incredible Heart</h3>
                            <p>It's your kindness, compassion, and the way you love with your whole heart...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Surprise Box 2 -->
            <div class="surprise-box">
                <div class="present-box" id="present2" data-box="2">
                    <div class="present-front">
                        <div class="gift-icon">üéÅ</div>
                        <div class="question">What do I love most about our relationship?</div>
                        <p style="margin-top: 20px;"><i>Click to open!</i></p>
                    </div>
                    <div class="present-back">
                        <div class="answer">
                            <h3>The Unique Connection</h3>
                            <p>I've never felt with anyone the way I feel with you...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Surprise Box 3 -->
            <div class="surprise-box">
                <div class="present-box" id="present3" data-box="3">
                    <div class="present-front">
                        <div class="gift-icon">üéÅ</div>
                        <div class="question">My birthday wish for you today is...</div>
                        <p style="margin-top: 20px;"><i>Click to open!</i></p>
                    </div>
                    <div class="present-back">
                        <div class="answer">
                            <h3>All Your Dreams Coming True</h3>
                            <p>I wish for you to enjoy all your birthdays as we share our relationship...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Love Messages -->
    <section class="love-section">
        <h2 class="section-title">My Heart's Messages</h2>
        <div class="love-messages">
            <div class="love-note fade-in">
                <h3>My Dearest Martha</h3>
                <p class="love-text">From the moment you came into my life, everything changed. Colors became brighter, laughter became sweeter, and every day became an adventure worth cherishing.</p>
                <p class="love-text">You are the most beautiful person I've ever known - inside and out. Your smile can light up the darkest room, and your kindness touches everyone around you.</p>
            </div>
            
            <div class="heart-divider">‚ù§Ô∏è</div>
            
            <div class="love-note fade-in">
                <h3>My Promise to You</h3>
                <p class="love-text">I promise to cherish you every single day, to support your dreams, to laugh with you in joy and hold you in sorrow, to build a beautiful future together.</p>
                <p class="love-text">I promise to love you more with each passing day, to be your safe place, your biggest fan, and your partner in all of life's adventures.</p>
            </div>
            
            <div class="heart-divider">‚ù§Ô∏è</div>
            
            <div class="love-note fade-in">
                <h3>My Beautiful Star</h3>
                <p class="love-text">You are my star, my light in the darkness, my guide when I'm lost. With you by my side, I feel like I can conquer anything life throws our way.</p>
                <p class="love-text">Thank you for being you - for your strength, your wisdom, your laughter, and your incredible heart. I'm the luckiest person in the world to call you mine.</p>
            </div>
        </div>
    </section>
    
    <!-- Birthday Wishes -->
    <section class="wishes-section">
        <h2 class="section-title">Happy Birthday Wishes!</h2>
        <div class="cake-container">
            üéÇ üéâ ü•≥ ‚ú®
        </div>
        <h3 class="birthday-wish">Happy Turnings, My Love!</h3>
        <p class="wishes-text">May this year be filled with magical moments, incredible adventures, and dreams coming true. May you always know how deeply loved and appreciated you are, not just today but every single day.</p>
        <p class="wishes-text">I can't wait to celebrate all your future birthdays with you, creating memories that will last a lifetime. Here's to you, Martha - the most amazing woman I know!</p>
        
        <div class="final-hearts">
            ‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è
        </div>
        
        <p style="font-size: 1.5rem; color: #ff3366; margin-top: 30px;">With all my love, forever and always</p>
    </section>
    
    <footer>
        <p class="footer-text">Made with infinite love for Martha on her special day</p>
        <p class="footer-text">¬© A birthday surprise from the luckiest person in the world</p>
    </footer>

    <script>
        // Music Player - Improved with better error handling
        const birthdaySong = document.getElementById('birthdaySong');
        const playBtn = document.getElementById('playBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        let isPlaying = false;
        
        // Set initial volume
        birthdaySong.volume = volumeSlider.value / 100;
        
        // Try to auto-play when page loads (with user interaction)
        document.addEventListener('DOMContentLoaded', function() {
            // Try to play after a short delay and user interaction
            setTimeout(() => {
                document.addEventListener('click', function initAudio() {
                    if (!isPlaying) {
                        birthdaySong.play().then(() => {
                            isPlaying = true;
                            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                            console.log("Music started playing");
                        }).catch(e => {
                            console.log("Auto-play was prevented. User needs to click play button:", e);
                        });
                    }
                    document.removeEventListener('click', initAudio);
                }, { once: true });
            }, 1000);
        });
        
        // Manual play/pause control
        playBtn.addEventListener('click', function() {
            if (isPlaying) {
                birthdaySong.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            } else {
                birthdaySong.play().then(() => {
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                }).catch(e => {
                    console.log("Playback failed:", e);
                    alert("Please click the play button to start the music. Some browsers require user interaction.");
                });
            }
            isPlaying = !isPlaying;
        });
        
        // Volume control
        volumeSlider.addEventListener('input', function() {
            birthdaySong.volume = this.value / 100;
        });
        
        // Slideshow functionality
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');
        const prevBtn = document.querySelector('.prev-slide');
        const nextBtn = document.querySelector('.next-slide');
        let currentSlide = 0;
        let slideInterval;
        
        function showSlide(index) {
            // Hide all slides
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Show current slide
            slides[index].classList.add('active');
            dots[index].classList.add('active');
            currentSlide = index;
        }
        
        function nextSlide() {
            let nextIndex = currentSlide + 1;
            if (nextIndex >= slides.length) nextIndex = 0;
            showSlide(nextIndex);
        }
        
        function prevSlide() {
            let prevIndex = currentSlide - 1;
            if (prevIndex < 0) prevIndex = slides.length - 1;
            showSlide(prevIndex);
        }
        
        // Start auto-advance slides
        function startSlideShow() {
            if (slideInterval) clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 5000);
        }
        
        startSlideShow();
        
        // Event listeners for slideshow controls
        prevBtn.addEventListener('click', function() {
            prevSlide();
            startSlideShow(); // Restart timer
        });
        
        nextBtn.addEventListener('click', function() {
            nextSlide();
            startSlideShow(); // Restart timer
        });
        
        dots.forEach(dot => {
            dot.addEventListener('click', function() {
                const slideIndex = parseInt(this.getAttribute('data-slide'));
                showSlide(slideIndex);
                startSlideShow(); // Restart timer
            });
        });
        
        // Surprise boxes with modal functionality
        const presents = document.querySelectorAll('.present-box');
        const modalOverlay = document.getElementById('modalOverlay');
        const closeModal = document.getElementById('closeModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        
        // Content for each gift box modal
        const boxContents = {
            1: {
                title: "Your Incredible Heart",
                content: `It's your kindness, compassion, and the way you love with your whole heart that makes you the most special person in my life. You have the most beautiful soul I've ever known, and every day with you makes me a better person.<br><br>
                Your empathy for others, your unwavering support, and your ability to see the good in everyone - these qualities make you truly extraordinary. You're not just my girlfriend; you're my inspiration, my safe haven, and my greatest blessing.`
            },
            2: {
                title: "Our Unique Connection",
                content: `I've never felt with anyone the way I feel with you. It's like we're two puzzle pieces that fit perfectly together. Our connection is something rare and beautiful that I'll cherish forever.<br><br>
                What I love most about our relationship is how we understand each other without words, how we laugh at the same silly things, and how we support each other's dreams. With you, I've found a love that feels like home - comfortable, safe, and filled with endless joy.`
            },
            3: {
                title: "All Your Dreams Coming True",
                content: `My birthday wish for you is to enjoy all your birthdays as we share our relationship. May this year bring you endless joy, success in all you do, and may all your dreams come true, my beautiful star!<br><br>
                I wish for you to wake up every morning with a smile, to find happiness in the little moments, and to know how deeply loved you are. May this year be filled with adventures, laughter, and memories that we'll cherish forever. Here's to celebrating many more birthdays together!`
            }
        };
        
        presents.forEach(present => {
            present.addEventListener('click', function() {
                const boxNumber = this.getAttribute('data-box');
                
                // Create confetti effect
                createConfetti(this);
                
                // Toggle the opened class for the gift box
                this.classList.toggle('opened');
                
                // Play opening sound
                playOpenSound();
                
                // Show the modal with content after a short delay
                setTimeout(() => {
                    showModal(boxNumber);
                }, 800);
            });
        });
        
        function showModal(boxNumber) {
            // Set modal content based on box number
            modalTitle.textContent = boxContents[boxNumber].title;
            modalBody.innerHTML = boxContents[boxNumber].content;
            
            // Show modal with animation
            modalOverlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
            
            // Create extra confetti for modal opening
            createModalConfetti();
        }
        
        // Close modal
        closeModal.addEventListener('click', function() {
            closeModalFunction();
        });
        
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeModalFunction();
            }
        });
        
        function closeModalFunction() {
            modalOverlay.classList.remove('active');
            document.body.style.overflow = 'auto'; // Re-enable scrolling
            
            // Reset all gift boxes to closed state
            presents.forEach(present => {
                present.classList.remove('opened');
            });
        }
        
        function createConfetti(element) {
            const rect = element.getBoundingClientRect();
            const colors = ['#ff3366', '#ff9966', '#99ccff', '#cc99ff', '#ffcc00', '#99ff99'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${rect.left + rect.width / 2}px`;
                confetti.style.top = `${rect.top + rect.height / 2}px`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = `${Math.random() * 15 + 5}px`;
                confetti.style.height = confetti.style.width;
                
                // Random shape
                if (Math.random() > 0.7) {
                    confetti.style.borderRadius = '0';
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                }
                
                document.body.appendChild(confetti);
                
                // Animate confetti
                const angle = Math.random() * Math.PI * 2;
                const velocity = 3 + Math.random() * 4;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                let posX = rect.left + rect.width / 2;
                let posY = rect.top + rect.height / 2;
                let opacity = 1;
                let rotation = 0;
                const rotationSpeed = Math.random() * 10 - 5;
                
                const animateConfetti = () => {
                    posX += vx;
                    posY += vy;
                    opacity -= 0.015;
                    rotation += rotationSpeed;
                    
                    confetti.style.left = `${posX}px`;
                    confetti.style.top = `${posY}px`;
                    confetti.style.opacity = opacity;
                    confetti.style.transform = `rotate(${rotation}deg)`;
                    
                    if (opacity > 0) {
                        requestAnimationFrame(animateConfetti);
                    } else {
                        confetti.remove();
                    }
                };
                
                requestAnimationFrame(animateConfetti);
            }
        }
        
        function createModalConfetti() {
            const colors = ['#ff3366', '#ff9966', '#99ccff', '#cc99ff', '#ffcc00', '#99ff99'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.top = `${Math.random() * 100}vh`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = `${Math.random() * 20 + 5}px`;
                confetti.style.height = confetti.style.width;
                
                // Random shape
                if (Math.random() > 0.5) {
                    confetti.style.borderRadius = '0';
                }
                
                document.body.appendChild(confetti);
                
                // Animate confetti falling
                let posY = parseFloat(confetti.style.top);
                let opacity = 1;
                
                const animateConfetti = () => {
                    posY += 2 + Math.random() * 3;
                    opacity -= 0.005;
                    
                    confetti.style.top = `${posY}px`;
                    confetti.style.opacity = opacity;
                    
                    if (opacity > 0 && posY < window.innerHeight + 50) {
                        requestAnimationFrame(animateConfetti);
                    } else {
                        confetti.remove();
                    }
                };
                
                // Start animation with random delay
                setTimeout(() => {
                    requestAnimationFrame(animateConfetti);
                }, Math.random() * 1000);
            }
        }
        
        function playOpenSound() {
            // Create a more pleasant opening sound
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Create multiple oscillators for a chime-like sound
            for (let i = 0; i < 3; i++) {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Different frequencies for a chord
                const frequencies = [523.25, 659.25, 783.99]; // C, E, G
                oscillator.frequency.setValueAtTime(frequencies[i], audioContext.currentTime);
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.2, audioContext.currentTime + 0.1);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1 + i * 0.1);
                
                oscillator.start(audioContext.currentTime + i * 0.1);
                oscillator.stop(audioContext.currentTime + 1.5 + i * 0.1);
            }
        }
        
        // Scroll animations for love notes
        const loveNotes = document.querySelectorAll('.love-note');
        
        function checkScroll() {
            loveNotes.forEach(note => {
                const noteTop = note.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (noteTop < windowHeight * 0.85) {
                    note.classList.add('visible');
                }
            });
            
            // Also check for fade-in elements
            const fadeIns = document.querySelectorAll('.fade-in');
            fadeIns.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elementTop < windowHeight * 0.85) {
                    element.classList.add('visible');
                }
            });
        }
        
        window.addEventListener('scroll', checkScroll);
        window.addEventListener('load', checkScroll);
        
        // Create floating hearts occasionally
        function createFloatingHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = '‚ù§';
            heart.style.position = 'fixed';
            heart.style.fontSize = Math.random() * 30 + 20 + 'px';
            heart.style.color = '#ff3366';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.top = '100vh';
            heart.style.opacity = Math.random() * 0.5 + 0.3;
            heart.style.zIndex = '-1';
            heart.style.pointerEvents = 'none';
            heart.style.filter = `blur(${Math.random() * 3}px)`;
            document.body.appendChild(heart);
            
            // Animate heart floating up
            const animation = heart.animate([
                { transform: 'translateY(0) rotate(0deg)', opacity: heart.style.opacity },
                { transform: `translateY(-${window.innerHeight + 200}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
            ], {
                duration: Math.random() * 5000 + 5000,
                easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
            });
            
            // Remove heart after animation completes
            animation.onfinish = () => {
                heart.remove();
            };
        }
        
        // Create floating hearts every few seconds
        setInterval(createFloatingHeart, 2000);
        
        // Create initial hearts
        for (let i = 0; i < 10; i++) {
            setTimeout(createFloatingHeart, i * 500);
        }
        
        // Add keyboard support for modal
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
                closeModalFunction();
            }
        });
        
        console.log("=== BIRTHDAY SURPRISE READY ===");
        console.log("All images have been updated to use Martha's photos");
        console.log("Audio file set to: Kirorerwa.mp3");
        console.log("Gift boxes now open dramatic modals with confetti effects!");
    </script>
</body>
</html>
