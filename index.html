<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Martha! ‚ú®</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffcce6 0%, #ff99cc 25%, #cc99ff 50%, #99ccff 75%, #cce6ff 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #333;
            overflow-x: hidden;
            min-height: 100vh;
            padding: 0;
            width: 100vw;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Hero Section - Mobile First */
        .hero-section {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('martha1.jpg') center/cover no-repeat;
            opacity: 0.2;
            z-index: -1;
        }
        
        .hero-content {
            width: 100%;
            padding: 0 15px;
        }
        
        .hero-content h1 {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2.8rem, 8vw, 5rem);
            color: #ff3366;
            margin-bottom: 15px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            animation: floatText 4s ease-in-out infinite;
            line-height: 1.2;
        }
        
        @keyframes floatText {
            0%, 100% { transform: translateY(0) rotate(-1deg); }
            50% { transform: translateY(-10px) rotate(1deg); }
        }
        
        .hero-subtitle {
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            color: #333;
            max-width: 500px;
            margin: 0 auto 20px;
            font-weight: 300;
            background: rgba(255, 255, 255, 0.85);
            padding: 12px 20px;
            border-radius: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            line-height: 1.5;
        }
        
        .birthday-star {
            font-size: clamp(2.5rem, 6vw, 3.5rem);
            color: gold;
            margin: 15px 0;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            animation: spin 10s linear infinite, glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
            to { text-shadow: 0 0 25px rgba(255, 215, 0, 1), 0 0 35px rgba(255, 215, 0, 0.8); }
        }
        
        /* Full-Size Image Section */
        .image-section {
            padding: 40px 0;
            background: rgba(255, 255, 255, 0.9);
            width: 100%;
        }
        
        .section-title {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2.5rem, 7vw, 3.5rem);
            text-align: center;
            color: #ff3366;
            margin-bottom: 30px;
            position: relative;
            padding: 0 15px;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, #ff3366, #ff9966);
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }
        
        .full-image-container {
            width: 100%;
            margin: 0 auto;
            overflow: hidden;
        }
        
        .full-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 0;
            transition: transform 0.5s ease;
        }
        
        .image-caption {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: clamp(1rem, 4vw, 1.2rem);
            margin-top: -4px;
        }
        
        .image-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            padding: 0 15px;
        }
        
        .img-nav-btn {
            background: #ff3366;
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.3rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 51, 102, 0.3);
        }
        
        .img-nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .img-nav-btn:not(:disabled):hover {
            background: #ff0040;
            transform: scale(1.1);
        }
        
        .image-counter {
            text-align: center;
            margin-top: 10px;
            font-size: 1rem;
            color: #666;
            padding: 0 15px;
        }
        
        /* Surprise Boxes - Mobile Optimized */
        .surprise-section {
            padding: 50px 15px;
            background: rgba(255, 255, 255, 0.9);
            text-align: center;
            width: 100%;
        }
        
        .surprise-intro {
            font-size: clamp(1.1rem, 4vw, 1.3rem);
            max-width: 500px;
            margin: 0 auto 40px;
            line-height: 1.6;
            color: #555;
            padding: 0 10px;
        }
        
        .surprise-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .surprise-box {
            width: 100%;
            max-width: 300px;
            height: 280px;
            perspective: 1000px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .surprise-box:active {
            transform: scale(0.98);
        }
        
        .present-box {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .present-box.opened {
            transform: rotateY(180deg);
        }
        
        .present-front, .present-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .present-front {
            background: linear-gradient(135deg, #ff3366, #ff9966);
            color: white;
        }
        
        .present-back {
            background: linear-gradient(135deg, #99ccff, #cc99ff);
            color: #333;
            transform: rotateY(180deg);
            overflow: hidden;
        }
        
        .gift-icon {
            font-size: 3.5rem;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .question {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
            line-height: 1.4;
        }
        
        .answer {
            font-size: 1.1rem;
            line-height: 1.6;
            text-align: center;
            padding: 5px;
            overflow-y: auto;
            max-height: 180px;
        }
        
        /* Modal for gift box content - Mobile Optimized */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
            padding: 15px;
            overflow-y: auto;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            width: 100%;
            max-width: 500px;
            border-radius: 20px;
            padding: 30px 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-overlay.active .modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        
        .modal-content::before {
            content: "‚ù§";
            position: absolute;
            font-size: 15rem;
            color: rgba(255, 255, 255, 0.1);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 0;
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }
        
        .modal-header h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #ff3366;
            margin-bottom: 10px;
            line-height: 1.2;
        }
        
        .modal-body {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #333;
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #ff3366;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 1.3rem;
            cursor: pointer;
            z-index: 2;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .close-modal:active {
            background: #ff0040;
            transform: rotate(90deg);
        }
        
        /* Love Messages - Mobile Optimized */
        .love-section {
            padding: 50px 15px;
            background: linear-gradient(135deg, #ffcce6 0%, #ff99cc 100%);
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .love-messages {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .love-note {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.8s ease;
        }
        
        .love-note.visible {
            transform: translateY(0);
            opacity: 1;
        }
        
        .love-note h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: #ff3366;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .love-text {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #333;
            margin-bottom: 15px;
        }
        
        .heart-divider {
            text-align: center;
            font-size: 1.8rem;
            color: #ff3366;
            margin: 15px 0;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Birthday Wishes - Mobile Optimized */
        .wishes-section {
            padding: 60px 15px;
            text-align: center;
            background: linear-gradient(135deg, #99ccff 0%, #cc99ff 100%);
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .cake-container {
            font-size: clamp(4rem, 10vw, 6rem);
            margin: 25px 0;
            animation: floatCake 5s ease-in-out infinite;
        }
        
        @keyframes floatCake {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(3deg); }
        }
        
        .birthday-wish {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2.5rem, 7vw, 3.5rem);
            color: #ff3366;
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            line-height: 1.2;
        }
        
        .wishes-text {
            font-size: 1.2rem;
            max-width: 500px;
            margin: 0 auto 25px;
            line-height: 1.6;
            color: #333;
        }
        
        .final-hearts {
            font-size: 2.2rem;
            letter-spacing: 10px;
            color: #ff3366;
            margin: 25px 0;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* Footer */
        footer {
            padding: 30px 15px;
            text-align: center;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            width: 100%;
        }
        
        .footer-text {
            font-size: 1rem;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        /* Music Player - Mobile Optimized */
        .music-player {
            position: fixed;
            bottom: 15px;
            right: 15px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50px;
            padding: 10px 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(5px);
            border: 2px solid #ff3366;
        }
        
        .music-info {
            font-size: 0.8rem;
            color: #ff3366;
            font-weight: 600;
            white-space: nowrap;
            display: none;
        }
        
        .play-btn {
            background: #ff3366;
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(255, 51, 102, 0.3);
        }
        
        .play-btn:active {
            background: #ff0040;
            transform: scale(0.95);
        }
        
        .volume-slider {
            width: 70px;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: #ddd;
            border-radius: 3px;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #ff3366;
            cursor: pointer;
        }
        
        /* Confetti */
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            opacity: 0;
            z-index: 1001;
            pointer-events: none;
        }
        
        /* Scroll Down Indicator */
        .scroll-down {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff3366;
            font-size: 1.5rem;
            animation: bounce 2s infinite;
            cursor: pointer;
        }
        
        /* Responsive adjustments for larger screens */
        @media (min-width: 768px) {
            .hero-subtitle {
                max-width: 600px;
                padding: 15px 30px;
            }
            
            .full-image-container {
                max-width: 700px;
            }
            
            .full-image {
                border-radius: 10px;
            }
            
            .surprise-container {
                flex-direction: row;
                justify-content: center;
                max-width: 900px;
                flex-wrap: wrap;
            }
            
            .surprise-box {
                max-width: 280px;
            }
            
            .music-info {
                display: block;
            }
            
            .music-player {
                padding: 12px 20px;
            }
            
            .volume-slider {
                width: 90px;
            }
        }
        
        @media (min-width: 1024px) {
            .hero-content h1 {
                font-size: 4.5rem;
            }
            
            .full-image-container {
                max-width: 800px;
            }
            
            .modal-content {
                max-width: 600px;
                padding: 40px 30px;
            }
        }
        
        /* Prevent text selection on interactive elements */
        .surprise-box, .img-nav-btn, .play-btn, .close-modal {
            user-select: none;
            -webkit-user-select: none;
        }
    </style>
</head>
<body>
    <!-- Modal for gift box content -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <div class="modal-header">
                <h2 id="modalTitle">Your Special Message</h2>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content will be dynamically inserted here -->
            </div>
        </div>
    </div>
    
    <!-- Music Player -->
    <div class="music-player">
        <div class="music-info">Martha's Song</div>
        <button class="play-btn" id="playBtn">
            <i class="fas fa-play"></i>
        </button>
        <input type="range" min="0" max="100" value="70" class="volume-slider" id="volumeSlider">
        <audio id="birthdaySong" loop preload="metadata">
            <source src="Kirorerwa.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>
    
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1>Happy Birthday, Martha! ‚ú®</h1>
            <div class="birthday-star">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
            </div>
            <p class="hero-subtitle">My beautiful star, today is your special day and I'm the luckiest person in the world to have you in my life.</p>
            <p class="hero-subtitle">I've never felt with anyone the way I feel with you. Scroll down for surprises!</p>
        </div>
        <div class="scroll-down" onclick="scrollToImages()">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- Full-Size Image Section -->
    <section class="image-section">
        <h2 class="section-title">My Beautiful Martha</h2>
        <div class="full-image-container">
            <img src="martha1.jpg" alt="Beautiful Martha" class="full-image" id="currentImage">
            <div class="image-caption" id="imageCaption">That smile that brightens my world every day</div>
        </div>
        <div class="image-nav">
            <button class="img-nav-btn" id="prevImage" disabled>
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="img-nav-btn" id="nextImage">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        <div class="image-counter" id="imageCounter">1 of 5</div>
    </section>
    
    <!-- Surprise Boxes Section -->
    <section class="surprise-section">
        <h2 class="section-title">Surprise Boxes of Love</h2>
        <p class="surprise-intro">Tap on each gift box to discover special messages about how much you mean to me!</p>
        
        <div class="surprise-container">
            <!-- Surprise Box 1 -->
            <div class="surprise-box">
                <div class="present-box" id="present1" data-box="1">
                    <div class="present-front">
                        <div class="gift-icon">üéÅ</div>
                        <div class="question">What makes you the most special person?</div>
                        <p style="margin-top: 15px; font-size: 0.9rem;"><i>Tap to open!</i></p>
                    </div>
                    <div class="present-back">
                        <div class="answer">
                            <h3 style="font-size: 1.3rem; margin-bottom: 10px;">Your Incredible Heart</h3>
                            <p>Your kindness and compassion make you truly special...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Surprise Box 2 -->
            <div class="surprise-box">
                <div class="present-box" id="present2" data-box="2">
                    <div class="present-front">
                        <div class="gift-icon">üéÅ</div>
                        <div class="question">What do I love most about us?</div>
                        <p style="margin-top: 15px; font-size: 0.9rem;"><i>Tap to open!</i></p>
                    </div>
                    <div class="present-back">
                        <div class="answer">
                            <h3 style="font-size: 1.3rem; margin-bottom: 10px;">Our Unique Connection</h3>
                            <p>I've never felt this way with anyone else...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Surprise Box 3 -->
            <div class="surprise-box">
                <div class="present-box" id="present3" data-box="3">
                    <div class="present-front">
                        <div class="gift-icon">üéÅ</div>
                        <div class="question">My birthday wish for you</div>
                        <p style="margin-top: 15px; font-size: 0.9rem;"><i>Tap to open!</i></p>
                    </div>
                    <div class="present-back">
                        <div class="answer">
                            <h3 style="font-size: 1.3rem; margin-bottom: 10px;">All Your Dreams</h3>
                            <p>I wish for all your dreams to come true...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Love Messages -->
    <section class="love-section">
        <h2 class="section-title">My Heart's Messages</h2>
        <div class="love-messages">
            <div class="love-note fade-in">
                <h3>My Dearest Martha</h3>
                <p class="love-text">From the moment you came into my life, everything changed. Colors became brighter, laughter became sweeter, and every day became an adventure worth cherishing.</p>
                <p class="love-text">You are the most beautiful person I've ever known - inside and out. Your smile can light up the darkest room.</p>
            </div>
            
            <div class="heart-divider">‚ù§Ô∏è</div>
            
            <div class="love-note fade-in">
                <h3>My Promise to You</h3>
                <p class="love-text">I promise to cherish you every single day, to support your dreams, to laugh with you in joy and hold you in sorrow, to build a beautiful future together.</p>
                <p class="love-text">I promise to love you more with each passing day, to be your safe place and your biggest fan.</p>
            </div>
            
            <div class="heart-divider">‚ù§Ô∏è</div>
            
            <div class="love-note fade-in">
                <h3>My Beautiful Star</h3>
                <p class="love-text">You are my star, my light in the darkness, my guide when I'm lost. With you by my side, I feel like I can conquer anything.</p>
                <p class="love-text">Thank you for being you - for your strength, wisdom, laughter, and incredible heart. I'm the luckiest person to call you mine.</p>
            </div>
        </div>
    </section>
    
    <!-- Birthday Wishes -->
    <section class="wishes-section">
        <h2 class="section-title">Happy Birthday Wishes!</h2>
        <div class="cake-container">
            üéÇ üéâ ü•≥ ‚ú®
        </div>
        <h3 class="birthday-wish">Happy Turnings, My Love!</h3>
        <p class="wishes-text">May this year be filled with magical moments, incredible adventures, and dreams coming true. May you always know how deeply loved you are.</p>
        <p class="wishes-text">I can't wait to celebrate all your future birthdays with you, creating memories that will last a lifetime.</p>
        
        <div class="final-hearts">
            ‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è
        </div>
        
        <p style="font-size: 1.3rem; color: #ff3366; margin-top: 25px;">With all my love, forever and always</p>
    </section>
    
    <footer>
        <p class="footer-text">Made with infinite love for Martha on her special day</p>
        <p class="footer-text">¬© A birthday surprise from the luckiest person in the world</p>
    </footer>

    <script>
        // Mobile-first JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Fix for mobile viewport height
            function setVH() {
                let vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }
            
            setVH();
            window.addEventListener('resize', setVH);
            
            // Music Player - Manual control only
            const birthdaySong = document.getElementById('birthdaySong');
            const playBtn = document.getElementById('playBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            let isPlaying = false;
            
            // Set initial volume
            birthdaySong.volume = volumeSlider.value / 100;
            
            // Manual play/pause control
            playBtn.addEventListener('click', function() {
                if (isPlaying) {
                    birthdaySong.pause();
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    isPlaying = false;
                } else {
                    // Try to play - handle potential errors
                    const playPromise = birthdaySong.play();
                    
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                            isPlaying = true;
                        }).catch(error => {
                            console.log("Playback failed:", error);
                            // Show a user-friendly message
                            playBtn.innerHTML = '<i class="fas fa-play"></i>';
                            alert("Please tap the play button again to start the music. Some mobile browsers require this.");
                        });
                    }
                }
            });
            
            // Volume control
            volumeSlider.addEventListener('input', function() {
                birthdaySong.volume = this.value / 100;
            });
            
            // Full-size image carousel
            const images = ['martha1.jpg', 'martha2.jpg', 'martha3.jpg', 'martha4.jpg', 'martha5.jpg'];
            const captions = [
                "That smile that brightens my world every day",
                "Your joyful laughter is my favorite sound",
                "The way you care for others inspires me",
                "Every adventure with you is magical",
                "You shine brighter than any star in the sky"
            ];
            
            let currentImageIndex = 0;
            const currentImage = document.getElementById('currentImage');
            const imageCaption = document.getElementById('imageCaption');
            const prevImageBtn = document.getElementById('prevImage');
            const nextImageBtn = document.getElementById('nextImage');
            const imageCounter = document.getElementById('imageCounter');
            
            function updateImage() {
                currentImage.src = images[currentImageIndex];
                imageCaption.textContent = captions[currentImageIndex];
                imageCounter.textContent = `${currentImageIndex + 1} of ${images.length}`;
                
                // Update button states
                prevImageBtn.disabled = currentImageIndex === 0;
                nextImageBtn.disabled = currentImageIndex === images.length - 1;
                
                // Add loading effect
                currentImage.style.opacity = '0.7';
                setTimeout(() => {
                    currentImage.style.opacity = '1';
                }, 300);
            }
            
            prevImageBtn.addEventListener('click', function() {
                if (currentImageIndex > 0) {
                    currentImageIndex--;
                    updateImage();
                }
            });
            
            nextImageBtn.addEventListener('click', function() {
                if (currentImageIndex < images.length - 1) {
                    currentImageIndex++;
                    updateImage();
                }
            });
            
            // Swipe support for mobile
            let touchStartX = 0;
            let touchEndX = 0;
            
            currentImage.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            currentImage.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                
                if (touchEndX < touchStartX - swipeThreshold) {
                    // Swipe left - next image
                    if (currentImageIndex < images.length - 1) {
                        currentImageIndex++;
                        updateImage();
                    }
                }
                
                if (touchEndX > touchStartX + swipeThreshold) {
                    // Swipe right - previous image
                    if (currentImageIndex > 0) {
                        currentImageIndex--;
                        updateImage();
                    }
                }
            }
            
            // Initialize image carousel
            updateImage();
            
            // Surprise boxes with modal functionality
            const presents = document.querySelectorAll('.present-box');
            const modalOverlay = document.getElementById('modalOverlay');
            const closeModal = document.getElementById('closeModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            // Content for each gift box modal
            const boxContents = {
                1: {
                    title: "Your Incredible Heart",
                    content: `What makes you the most special person in my life is your incredible heart. Your kindness, compassion, and the way you love with your whole heart are what make you truly extraordinary.<br><br>
                    You have the most beautiful soul I've ever known, and every day with you makes me a better person. Your empathy for others, your unwavering support, and your ability to see the good in everyone - these qualities make you irreplaceable.<br><br>
                    You're not just my girlfriend; you're my inspiration, my safe haven, and my greatest blessing.`
                },
                2: {
                    title: "Our Unique Connection",
                    content: `What I love most about our relationship is that I've never felt with anyone the way I feel with you. It's like we're two puzzle pieces that fit perfectly together. Our connection is something rare and beautiful that I'll cherish forever.<br><br>
                    I love how we understand each other without words, how we laugh at the same silly things, and how we support each other's dreams. With you, I've found a love that feels like home - comfortable, safe, and filled with endless joy.<br><br>
                    Every moment with you feels right, like this is exactly where I'm meant to be.`
                },
                3: {
                    title: "All Your Dreams Coming True",
                    content: `My birthday wish for you is to enjoy all your birthdays as we share our relationship. I wish for you to wake up every morning with a smile, to find happiness in the little moments, and to know how deeply loved you are.<br><br>
                    May this year bring you endless joy, success in all you do, and may all your dreams come true, my beautiful star! May this year be filled with adventures, laughter, and memories that we'll cherish forever.<br><br>
                    Here's to celebrating many more birthdays together, creating a lifetime of beautiful memories side by side!`
                }
            };
            
            presents.forEach(present => {
                present.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const boxNumber = this.getAttribute('data-box');
                    
                    // Create confetti effect
                    createConfetti(this);
                    
                    // Toggle the opened class for the gift box
                    this.classList.toggle('opened');
                    
                    // Play opening sound
                    playOpenSound();
                    
                    // Show the modal with content after a short delay
                    setTimeout(() => {
                        showModal(boxNumber);
                    }, 600);
                });
            });
            
            function showModal(boxNumber) {
                // Set modal content based on box number
                modalTitle.textContent = boxContents[boxNumber].title;
                modalBody.innerHTML = boxContents[boxNumber].content;
                
                // Show modal with animation
                modalOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Create extra confetti for modal opening
                createModalConfetti();
            }
            
            // Close modal
            closeModal.addEventListener('click', function() {
                closeModalFunction();
            });
            
            modalOverlay.addEventListener('click', function(e) {
                if (e.target === modalOverlay) {
                    closeModalFunction();
                }
            });
            
            function closeModalFunction() {
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
                
                // Reset all gift boxes to closed state after a delay
                setTimeout(() => {
                    presents.forEach(present => {
                        present.classList.remove('opened');
                    });
                }, 300);
            }
            
            function createConfetti(element) {
                const rect = element.getBoundingClientRect();
                const colors = ['#ff3366', '#ff9966', '#99ccff', '#cc99ff', '#ffcc00', '#99ff99'];
                
                for (let i = 0; i < 40; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = `${rect.left + rect.width / 2}px`;
                    confetti.style.top = `${rect.top + rect.height / 2}px`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = `${Math.random() * 12 + 5}px`;
                    confetti.style.height = confetti.style.width;
                    
                    // Random shape
                    if (Math.random() > 0.7) {
                        confetti.style.borderRadius = '0';
                    }
                    
                    document.body.appendChild(confetti);
                    
                    // Animate confetti
                    const angle = Math.random() * Math.PI * 2;
                    const velocity = 2 + Math.random() * 3;
                    const vx = Math.cos(angle) * velocity;
                    const vy = Math.sin(angle) * velocity;
                    
                    let posX = rect.left + rect.width / 2;
                    let posY = rect.top + rect.height / 2;
                    let opacity = 1;
                    let rotation = 0;
                    const rotationSpeed = Math.random() * 8 - 4;
                    
                    const animateConfetti = () => {
                        posX += vx;
                        posY += vy;
                        opacity -= 0.02;
                        rotation += rotationSpeed;
                        
                        confetti.style.left = `${posX}px`;
                        confetti.style.top = `${posY}px`;
                        confetti.style.opacity = opacity;
                        confetti.style.transform = `rotate(${rotation}deg)`;
                        
                        if (opacity > 0) {
                            requestAnimationFrame(animateConfetti);
                        } else {
                            confetti.remove();
                        }
                    };
                    
                    requestAnimationFrame(animateConfetti);
                }
            }
            
            function createModalConfetti() {
                const colors = ['#ff3366', '#ff9966', '#99ccff', '#cc99ff', '#ffcc00', '#99ff99'];
                
                for (let i = 0; i < 80; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.top = `${Math.random() * 20}vh`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = `${Math.random() * 15 + 5}px`;
                    confetti.style.height = confetti.style.width;
                    
                    // Random shape
                    if (Math.random() > 0.5) {
                        confetti.style.borderRadius = '0';
                    }
                    
                    document.body.appendChild(confetti);
                    
                    // Animate confetti falling
                    let posY = parseFloat(confetti.style.top);
                    let opacity = 1;
                    
                    const animateConfetti = () => {
                        posY += 1.5 + Math.random() * 2;
                        opacity -= 0.008;
                        
                        confetti.style.top = `${posY}px`;
                        confetti.style.opacity = opacity;
                        
                        if (opacity > 0 && posY < window.innerHeight + 50) {
                            requestAnimationFrame(animateConfetti);
                        } else {
                            confetti.remove();
                        }
                    };
                    
                    // Start animation with random delay
                    setTimeout(() => {
                        requestAnimationFrame(animateConfetti);
                    }, Math.random() * 800);
                }
            }
            
            function playOpenSound() {
                // Simple beep sound for mobile compatibility
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                    oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.1); // G5
                    
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.5);
                } catch (e) {
                    console.log("Sound not supported on this device");
                }
            }
            
            // Scroll animations for love notes
            const loveNotes = document.querySelectorAll('.love-note');
            
            function checkScroll() {
                loveNotes.forEach(note => {
                    const noteTop = note.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (noteTop < windowHeight * 0.85) {
                        note.classList.add('visible');
                    }
                });
                
                // Also check for fade-in elements
                const fadeIns = document.querySelectorAll('.fade-in');
                fadeIns.forEach(element => {
                    const elementTop = element.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (elementTop < windowHeight * 0.85) {
                        element.classList.add('visible');
                    }
                });
            }
            
            window.addEventListener('scroll', checkScroll);
            window.addEventListener('load', checkScroll);
            
            // Create floating hearts occasionally
            function createFloatingHeart() {
                const heart = document.createElement('div');
                heart.innerHTML = '‚ù§';
                heart.style.position = 'fixed';
                heart.style.fontSize = Math.random() * 25 + 15 + 'px';
                heart.style.color = '#ff3366';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = '100vh';
                heart.style.opacity = Math.random() * 0.4 + 0.2;
                heart.style.zIndex = '-1';
                heart.style.pointerEvents = 'none';
                heart.style.filter = `blur(${Math.random() * 2}px)`;
                document.body.appendChild(heart);
                
                // Animate heart floating up
                const animation = heart.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: heart.style.opacity },
                    { transform: `translateY(-${window.innerHeight + 150}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 4000 + 4000,
                    easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                });
                
                // Remove heart after animation completes
                animation.onfinish = () => {
                    heart.remove();
                };
            }
            
            // Create floating hearts every few seconds
            setInterval(createFloatingHeart, 2500);
            
            // Create initial hearts
            for (let i = 0; i < 8; i++) {
                setTimeout(createFloatingHeart, i * 400);
            }
            
            // Add keyboard support for modal (for devices with keyboard)
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
                    closeModalFunction();
                }
            });
            
            // Prevent zoom on double-tap
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        });
        
        // Scroll to images function
        function scrollToImages() {
            document.querySelector('.image-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        console.log("=== MOBILE-OPTIMIZED BIRTHDAY SURPRISE READY ===");
        console.log("Designed specifically for smartphone screens");
        console.log("Full-size images with swipe navigation");
        console.log("Manual music control - tap play button to start");
        console.log("Fast, responsive touch interactions");
    </script>
</body>
</html>
